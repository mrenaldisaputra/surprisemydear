<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Halaman kejutan spesial dengan slider kasih sayang dan doa ulang tahun" />
    <meta name="author" content="Rey" />
    <title>Kejutan Spesial!</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="audio-system.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="celebration">
        <span class="balloon">ğŸˆ</span>
        <span class="balloon">ğŸ‚</span>
        <span class="balloon">ğŸ‰</span>
      </div>

      <h1>Kejutan Spesial! <span class="heart-animation">ğŸ’•</span></h1>

      <p>Hari yang sangat istimewa ini, aku ingin bertanya...</p>
      <p>
        <strong
          >Kamu sayang sama siapa?
          <span class="heart-animation">â¤ï¸</span></strong
        >
      </p>

      <button id="youBtn">Rey â¤ï¸</button>
      <button id="noBtn">Nggak mau bilang ğŸ˜Š</button>
    </div>

    <!-- Modal untuk Slider Kasih Sayang -->
    <div id="loveSliderModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>
          Seberapa sayang kamu sama Rey? 
          <span class="heart-animation">ğŸ’•</span>
        </h2>

        <div class="celebration">
          <span class="balloon">ğŸ’–</span>
          <span class="balloon">ğŸ’</span>
          <span class="balloon">ğŸ’—</span>
        </div>

        <p style="text-align: center; margin: 20px 0;">
          Geser slider di bawah ini untuk menunjukkan seberapa sayang kamu! 
          <span class="heart-animation">ğŸ˜Š</span>
        </p>

        <div class="love-slider-container" style="margin: 30px 0;">
          <div class="slider-labels" style="display: flex; justify-content: space-between; margin-bottom: 10px;">
            <span style="font-size: 12px; color: #ff69b4;">ğŸ˜ Kurang sayang</span>
            <span style="font-size: 12px; color: #ff1493; font-weight: bold;">ğŸ’• Sayang banget!</span>
          </div>
          <input type="range" id="loveSlider" min="1" max="100" value="50" 
                 style="width: 100%; height: 8px; border-radius: 5px; background: linear-gradient(to right, #ffb6c1, #ff69b4, #ff1493); outline: none; cursor: pointer;">
          <div id="sliderValue" style="text-align: center; margin-top: 15px; font-size: 20px; font-weight: bold; color: #ff1493;">
            50% sayang ğŸ’–
          </div>
        </div>

        <button id="confirmLoveBtn" style="width: 100%; margin-top: 20px;">Konfirmasi Rasa Sayang ğŸ’•</button>
      </div>
    </div>

    <!-- Modal untuk Response Pertama -->
    <div id="loveModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>
          Aku juga sayang banget sama kamu!
          <span class="heart-animation">ğŸ’–</span>
        </h2>

        <div class="celebration">
          <span class="balloon">ğŸŠ</span>
          <span class="balloon">ğŸ’</span>
          <span class="balloon">ğŸŒ¹</span>
        </div>

        <p>
          Di hari ulang tahunmu yang istimewa ini, aku ingin memberikan doa-doa
          terbaik untukmu...
        </p>

        <button id="showPrayersBtn">Lihat Doa Terbaik ğŸ™</button>
      </div>
    </div>

    <!-- Modal untuk Doa-doa Terbaik -->
    <div id="prayersModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Selamat Ulang Tahun ke-23! <span class="heart-animation">ğŸ‰</span></h2>
        <h2>Doa Spesial Buat Neng Rimaa <span class="heart-animation">ğŸ™</span></h2>

        <div class="prayer-list">
          <div class="prayer-text">
            <p><strong>ğŸŒŸ Rimaa, semoga hari-harimu selalu penuh warna dan kebahagiaan. Semoga rezekimu lancar, sehat terus, dan makin kece tiap hari!</strong></p>
          </div>
          <div class="prayer-text">
            <p><strong>ğŸ’– Semoga selalu dikelilingi orang-orang yang sayang sama kamu, yang bikin kamu senyum tiap hari!</strong></p>
          </div>
          <div class="prayer-text">
            <p><strong>ğŸŒˆ Semoga semua impian dan harapanmu pelan-pelan jadi nyata. Harus tetap semangat, ya!</strong></p>
          </div>
          <div class="prayer-text">
            <p><strong>âœ¨ Semoga selalu dilindungi dari hal-hal yang nggak baik, dan dikasih yang terbaik sama Allah, dunia akhirat!</strong></p>
          </div>
          <div class="prayer-text">
            <p><strong>ğŸŒ¸ Semoga Rimaa makin jadi versi terbaik dari diri sendiri, bikin keluarga bangga, dan selalu jadi inspirasi!</strong></p>
          </div>
        </div>

        <div class="celebration" style="margin: 20px 0; text-align: center;">
          <span class="balloon">ğŸ‚</span>
          <span class="balloon">ğŸˆ</span>
          <span class="balloon">ğŸŠ</span>
        </div>

        <p style="text-align: center;">
          <strong>Happy Birthday Rimaa! <span class="heart-animation">ğŸ‰ğŸ’•</span></strong>
        </p>
        <p style="text-align: center;">
          <em>Semoga hari ini super seru dan penuh kejutan manis! Jangan lupa senyum terus yaa~</em>
        </p>

        <div style="text-align: center; margin-top: 20px;">
          <button id="backToHomeBtn">Kembali ke Beranda ğŸ </button>
        </div>
      </div>
    </div>

    <!-- Modal untuk Response "Nggak mau bilang" -->
    <div id="shyModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>
          Ayolah... jangan malu-malu <span class="heart-animation">ğŸ˜ŠğŸ’•</span>
        </h2>
        <p>
          Aku tahu jawabannya kok hihi...
          <span class="heart-animation">ğŸ˜‰</span>
        </p>
        <p>Yuk jawab yang jujur! Aku janji nggak akan marah kok!</p>
        <button id="tryAgainBtn">Coba Lagi ğŸ’</button>
      </div>
    </div>

    <script>
      // Get modal elements
      const loveSliderModal = document.getElementById("loveSliderModal");
      const loveModal = document.getElementById("loveModal");
      const prayersModal = document.getElementById("prayersModal");
      const shyModal = document.getElementById("shyModal");

      // Get button elements
      const youBtn = document.getElementById("youBtn");
      const noBtn = document.getElementById("noBtn");
      const confirmLoveBtn = document.getElementById("confirmLoveBtn");
      const showPrayersBtn = document.getElementById("showPrayersBtn");
      const tryAgainBtn = document.getElementById("tryAgainBtn");
      const backToHomeBtn = document.getElementById("backToHomeBtn");

      // Get slider elements
      const loveSlider = document.getElementById("loveSlider");
      const sliderValue = document.getElementById("sliderValue");

      // Get close elements
      const closeElements = document.querySelectorAll(".close");

      // Love level tracking
      let loveLevel = 50;

      // Function to show modal with improved centering
      function showModal(modal) {
        modal.classList.add('show');
      }

      function hideModal(modal) {
        modal.classList.remove('show');
      }

      // Update slider display
      function updateSliderDisplay(value) {
        loveLevel = value;
        let message = "";
        let emoji = "";
        let colorClass = "";
        
        if (value < 50) {
          message = "Masih kurang banget nih! ï¿½";
          emoji = "ğŸ˜ğŸ’”";
          colorClass = "color: #ff4444;";
        } else if (value < 70) {
          message = "Lumayan, tapi masih bisa lebih! ğŸ˜Š";
          emoji = "ğŸ˜Š";
          colorClass = "color: #ff8800;";
        } else if (value < 85) {
          message = "Udah bagus, tapi belum cukup! ğŸ’•";
          emoji = "ğŸ’•";
          colorClass = "color: #ffaa00;";
        } else if (value < 90) {
          message = "Hampir sampai! Dikit lagi! ï¿½";
          emoji = "ï¿½";
          colorClass = "color: #ff6600;";
        } else if (value < 95) {
          message = "Nah gitu dong! Rey seneng! ï¿½";
          emoji = "ğŸ’•ğŸ’–";
          colorClass = "color: #ff1493;";
        } else {
          message = "PERFECT! SAYANG BANGET! ğŸ’•ğŸ’–ğŸ’—";
          emoji = "ğŸ’•ğŸ’–ğŸ’—âœ¨";
          colorClass = "color: #ff1493; text-shadow: 0 0 10px #ff69b4;";
        }
        
        sliderValue.innerHTML = `
          <div style="${colorClass} font-weight: bold;">
            ${value}% sayang ${emoji}<br>
            <small style="font-size: 14px;">${message}</small>
          </div>
        `;
      }

      // Slider event listener
      if (loveSlider) {
        loveSlider.addEventListener('input', function() {
          updateSliderDisplay(this.value);
          // Play heart sound for interaction
          if (window.audioSystem) {
            audioSystem.playHeartSound();
          }
        });
      }

      // Event listeners with sound effects
      youBtn.addEventListener("click", function () {
        if (window.audioSystem) {
          audioSystem.startMusic();
          audioSystem.playHeartSound();
        }
        showModal(loveSliderModal);
      });

      // Confirm love button
      confirmLoveBtn.addEventListener("click", function () {
        // Check if love level is sufficient
        if (loveLevel < 90) {
          if (window.audioSystem) {
            audioSystem.playWrongSound();
          }
          
          let encouragementMessage = "";
          if (loveLevel < 50) {
            encouragementMessage = `Hah? Cuma ${loveLevel}%? ğŸ˜­\nMasa iya segitu doang sayang sama Rey? ğŸ’”`;
          } else if (loveLevel < 70) {
            encouragementMessage = `${loveLevel}% masih kurang nih! ğŸ¥º\nAyolah, Rey kan baik banget sama kamuğŸ’•`;
          } else if (loveLevel < 80) {
            encouragementMessage = `${loveLevel}% udah bagus sih, tapi masih kurang dikit! ğŸ˜Š\nCoba naikkin sampai lagi ya~ Rey pasti seneng banget! ğŸ’–`;
          } else {
            encouragementMessage = `${loveLevel}% udah deket banget! ğŸ˜\nTinggal dikit lagi! Ayolah, Rey sayang banget sama kamu loh~ ğŸ’•`;
          }
          
          alert(encouragementMessage);
          return; // Don't proceed if love level is too low
        }
        
        // If love level is 90% or higher, proceed normally
        if (window.audioSystem) {
          audioSystem.playCelebrationSound();
        }
        
        // Update love modal message based on slider value
        const loveModalH2 = loveModal.querySelector('h2');
        if (loveLevel <= 95) {
          loveModalH2.innerHTML = `
            Aku juga sayang banget sama kamu! 
            <span class="heart-animation">ğŸ’–ğŸ’•</span><br>
            <small style="font-size: 16px; color: #ff69b4;">Wahh ${loveLevel}%! Itu baru sayang yang beneran! ğŸ¥°</small>
          `;
        } else {
          loveModalH2.innerHTML = `
            Aku juga sayang banget banget sama kamu! 
            <span class="heart-animation">ğŸ’–ğŸ’•ğŸ’—ğŸ’</span><br>
            <small style="font-size: 16px; color: #ff69b4;">OMG ${loveLevel}%! Kamu yang terbaik sedunia! ğŸ˜âœ¨</small>
          `;
        }
        
        hideModal(loveSliderModal);
        setTimeout(() => showModal(loveModal), 300);
      });

      noBtn.addEventListener("click", function () {
        if (window.audioSystem) {
          audioSystem.startMusic();
          audioSystem.playClickSound();
        }
        showModal(shyModal);
      });

      showPrayersBtn.addEventListener("click", function () {
        if (window.audioSystem) {
          audioSystem.playCelebrationSound();
          // Switch to celebration music for prayers modal
          audioSystem.switchToCelebrationMusic();
        }
        hideModal(loveModal);
        setTimeout(() => showModal(prayersModal), 300);
      });

      tryAgainBtn.addEventListener("click", function () {
        if (window.audioSystem) {
          audioSystem.playClickSound();
        }
        hideModal(shyModal);
      });

      backToHomeBtn.addEventListener("click", function () {
        if (window.audioSystem) {
          audioSystem.playClickSound();
          // Switch back to background music before navigating
          audioSystem.switchToBackgroundMusic();
        }
        window.location.href = "index.html";
      });

      // Close modal when clicking X
      closeElements.forEach((closeBtn) => {
        closeBtn.addEventListener("click", function () {
          if (window.audioSystem) {
            audioSystem.playClickSound();
            // Switch back to background music if prayers modal is closed
            if (prayersModal.classList.contains('show')) {
              audioSystem.switchToBackgroundMusic();
            }
          }
          hideModal(loveSliderModal);
          hideModal(loveModal);
          hideModal(prayersModal);
          hideModal(shyModal);
        });
      });

      // Close modal when clicking outside
      window.addEventListener("click", function (event) {
        if (event.target === loveSliderModal) {
          if (window.audioSystem) {
            audioSystem.playClickSound();
          }
          hideModal(loveSliderModal);
        }
        if (event.target === loveModal) {
          if (window.audioSystem) {
            audioSystem.playClickSound();
          }
          hideModal(loveModal);
        }
        if (event.target === prayersModal) {
          if (window.audioSystem) {
            audioSystem.playClickSound();
            // Switch back to background music when prayers modal is closed
            audioSystem.switchToBackgroundMusic();
          }
          hideModal(prayersModal);
        }
        if (event.target === shyModal) {
          if (window.audioSystem) {
            audioSystem.playClickSound();
          }
          hideModal(shyModal);
        }
      });

      // Initialize slider display
      updateSliderDisplay(50);
    </script>

    <footer class="footer-credit">
      Website by Rey
    </footer>
  </body>
</html>
